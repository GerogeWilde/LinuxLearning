#云计算之私有云搭建



##1. 前言

兼容服务器的功耗和能力。

- Iaas  ——基础设置即服务	（第一种云计算平台）  --> 赚到钱了（取代了硬件服务器提供商）
- Paas  ——平台即服务		（第二种云计算平台）
- Caas  ——容器即服务		（灵雀云）
- Faas  ——无服务器模式

##2. 开始

###2.1. 介绍

使用工具：OpenStack

> OpenStack：NASA发起的，以Apache许可证授权的自由软件和开放源代码项目。是一个开源的云计算管理平台项目，由几个主要的组件组合起来完成具体工作。支持几乎所有类型的云环境。有很多的企业在支持。使用Python语言编写

**十大组件**



1.  计算：Nova
2.  对象存储：Swift。联想到网盘存储这种模式；
3.  镜像服务：Glance
4.  身份服务：Keystone
5.  网络&地址管理：Neutron
6.  块存储：Cinder
7.  UI界面：Horizon
8.  测量：Ceilometer,进行计费和监控
9.  部署编排：Heat
10. 数据库服务：Trove

**版本问题**
     N版本：牛顿

###2.2. 部署

1. 创建一个虚拟机
在自己的物理机上创建一个虚拟机，使用CentOS7系统。操作如之前所示。
- **版本**：Newton
- **配置**：
       - 处理器：2个
       - 内存：12G
       - 网络：使用桥接
       - 磁盘：100G + 20G（专门给别人当网盘用）
       - 网卡：2块（一个自己联网，另一个给别人联网）
       - 备注：硬件中打开**虚拟化**选项

2. 安装和配置

联网 -> 安装软件包 -> 通过远程进行链接，通过分配的公网IP，登录自己的物理机

##3. 正式操作

3.1. **配置网络**

	  ip a s   //查看IP
	  //打开网卡文件，然后配置静态IP
	  //包括IP地址，子网掩码，网关，DNS1，DNS2
	  //重启网卡


3.2. **配置脚本**

  1.  将已有的OpenStack文件目录中的文件，通过文件传输传送到虚拟机中。
  2.  移动脚本位置到mnt目录中
  3. 解压        
  4. 配置yum仓库，将所有yum源压缩，防止yum识别。 
  5. 配置自己的yum源
     
    `name = repo
     baseurl = file :///路径
     enabled = 1  //启动
     gpgcheck = 0  //查看文件的md5值，建立gpg的密钥。实现说明，否则后面安装失败
     proxy = _none_ //代理
    `


  6. 检查

3.3.**安装**

1. 进入到文件夹中，etc文件夹中
2. 配置hosts
	加入自己的IP地址，以及自己的电脑名字。在该电脑中部署云平台
3. 修改安装环境installrc
	更改密码；修改第二块网卡名（给所有云主机提供网络）；修改硬盘（给所有云主机提供硬盘）

3.4.**运行脚本**

1. bash执行安装（一共8步，依次执行安装）
2. 注意网络的安装

3.5.**运行**

1. 直接从浏览器上登录，登录IP地址/dashboard/
2. 显示的是openstack的网站界面，显示所有的管理
3. 创建云主机，配置均相同，分别对应着之前设置的硬盘，网卡等
4. 登录使用即可



